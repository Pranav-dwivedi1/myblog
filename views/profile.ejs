<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('./partials/head') %>
  <title><%= user.fullName %>'s Profile</title>
  <style>
    .profile-header {
      background: linear-gradient(135deg, #2c3e50, #4ca1af);
      border-radius: 15px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    }
    .avatar-img {
      border: 4px solid rgba(255, 255, 255, 0.3);
      transition: transform 0.3s ease;
    }
    .avatar-img:hover {
      transform: scale(1.05);
    }
    .stats-card {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      transition: all 0.3s ease;
    }
    .stats-card:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-5px);
    }
    .skill-badge {
      background: rgba(0, 123, 255, 0.2);
      border: 1px solid rgba(0, 123, 255, 0.5);
    }
    .social-icon {
      width: 40px;
      height: 40px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
    }
    .social-icon:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: scale(1.1);
    }
  </style>
</head>
<body class="bg-dark text-light">
  <%- include('./partials/nav') %>

  <div class="container py-5">
    <!-- Profile Header -->
    <div class="profile-header p-4 mb-5">
      <div class="row align-items-center">
        <div class="col-md-2 text-center">
          <% if (user.avatar) { %>
            <img src="<%= user.avatar %>" class="avatar-img rounded-circle mb-3" alt="Avatar" width="150" height="150">
          <% } else { %>
            <div class="avatar-placeholder bg-primary rounded-circle d-flex align-items-center justify-content-center mb-3 mx-auto" style="width: 150px; height: 150px; font-size: 3rem;">
              <%= user.fullName.charAt(0).toUpperCase() %>
            </div>
          <% } %>
          <div class="mt-2">
            <a href="#" class="btn btn-outline-light btn-sm">Edit Profile</a>
          </div>
        </div>
        
        <div class="col-md-6">
          <h2 class="mb-1"><%= user.fullName %></h2>
          <p class="text-light mb-2"><i class="fas fa-envelope me-2"></i><%= user.email %></p>
          <% if (user.bio) { %>
            <p class="text-light mb-3"><%= user.bio %></p>
          <% } else { %>
            <p class="text-light-50 mb-3">No bio yet. Tell us about yourself!</p>
          <% } %>
          
          <div class="d-flex flex-wrap gap-2 mb-3">
            <% if (user.location) { %>
              <span class="badge bg-light text-dark"><i class="fas fa-map-marker-alt me-1"></i> <%= user.location %></span>
            <% } %>
            <% if (user.jobTitle) { %>
              <span class="badge bg-info text-dark"><i class="fas fa-briefcase me-1"></i> <%= user.jobTitle %></span>
            <% } %>
          </div>
          
          <div class="d-flex gap-3">
            <a href="#" class="social-icon"><i class="fab fa-github"></i></a>
            <a href="#" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
            <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
          </div>
        </div>
        
        <div class="col-md-4 text-white">
          <div class="stats-card p-3 h-100">
            <h5 class="border-bottom text-white pb-2">Stats</h5>
            <div class="row text-center text-white">
              <div class="col-4 text-white">
                <h4 class="mb-0">124</h4>
                <small>Posts</small>
              </div>
              <div class="col-4 text-white">
                <h4 class="mb-0">89</h4>
                <small>Following</small>
              </div>
              <div class="col-4 text-white">
                <h4 class="mb-0">1.2K</h4>
                <small>Followers</small>
              </div>
            </div>
            <div class="mt-3 pt-2 border-top text-white">
              <small class="text-light-50">Member since <%= user.joinDate || 'Jan 2023' %></small>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Main Content -->
    <div class="row">
      <!-- Left Column -->
      <div class="col-md-8">
        <!-- About Section -->
        <div class="card bg-dark border-light text-white mb-4">
          <div class="card-header bg-transparent border-light">
            <h5 class="mb-0"><i class="fas fa-user me-2"></i> About</h5>
          </div>
          <div class="card-body text-white">
            <% if (user.about) { %>
              <p><%= user.about %></p>
            <% } else { %>
              <p class="">No information provided yet.</p>
            <% } %>
          </div>
        </div>
        
        <!-- Skills Section -->
        <div class="card bg-dark border-light mb-4">
          <div class="card-header bg-transparent border-light text-white">
            <h5 class="mb-0"><i class="fas fa-code me-2"></i> Skills</h5>
          </div>
          <div class="card-body">
            <div class="d-flex flex-wrap gap-2 text-white">
              <% if (user.skills && user.skills.length > 0) { %>
                <% user.skills.forEach(skill => { %>
                  <span class="badge skill-badge py-2"><%= skill %></span>
                <% }); %>
              <% } else { %>
                <p class="">No skills added yet.</p>
              <% } %>
            </div>
          </div>
        </div>
        
        <!-- Recent Activity -->
        <div class="card bg-dark border-light text-white">
          <div class="card-header bg-transparent border-light">
            <h5 class="mb-0"><i class="fas fa-history me-2"></i> Recent Activity</h5>
          </div>
          <div class="card-body">
            <ul class="list-group list-group-flush">
              <li class="list-group-item bg-transparent text-light border-light d-flex">
                <div class="me-3 text-primary"><i class="fas fa-comment"></i></div>
                <div>
                  <small class="">2 hours ago</small>
                  <p class="mb-0">Commented on "How to improve your workflow"</p>
                </div>
              </li>
              <li class="list-group-item bg-transparent text-light border-light d-flex">
                <div class="me-3 text-success"><i class="fas fa-thumbs-up"></i></div>
                <div>
                  <small class="">5 hours ago</small>
                  <p class="mb-0">Liked a post by Jane Doe</p>
                </div>
              </li>
              <li class="list-group-item bg-transparent text-light border-light d-flex">
                <div class="me-3 text-info"><i class="fas fa-plus-circle"></i></div>
                <div>
                  <small class="">Yesterday</small>
                  <p class="mb-0">Added a new project to portfolio</p>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
      
      <!-- Right Column -->
      <div class="col-md-4">
        <!-- Contact Info -->
        <div class="card bg-dark border-light mb-4 text-white">
          <div class="card-header bg-transparent border-light">
            <h5 class="mb-0"><i class="fas fa-address-card me-2 text-white"></i> Contact</h5>
          </div>
          <div class="card-body text-white">
            <ul class="list-unstyled">
              <% if (user.phone) { %>
                <li class="mb-3"><i class="fas fa-phone me-2"></i> <%= user.phone %></li>
              <% } %>
              <% if (user.website) { %>
                <li class="mb-3"><i class="fas fa-globe me-2"></i> <a href="<%= user.website %>" target="_blank"><%= user.website %></a></li>
              <% } %>
              <% if (user.socialMedia) { %>
                <li class="mb-3"><i class="fas fa-share-alt me-2"></i> 
                  <% Object.entries(user.socialMedia).forEach(([platform, url]) => { %>
                    <a href="<%= url %>" class="me-2" target="_blank"><i class="fab fa-<%= platform.toLowerCase() %>"></i></a>
                  <% }); %>
                </li>
              <% } %>
            </ul>
          </div>
        </div>
        
        <!-- Recent Projects -->
        <div class="card bg-dark border-light">
          <div class="card-header bg-transparent border-light text-white">
            <h5 class="mb-0"><i class="fas fa-project-diagram me-2 text-white"></i> Recent Projects</h5>
          </div>
          <div class="card-body text-white">
            <div class="mb-3">
              <h6 class="mb-1">Portfolio Redesign</h6>
              <small class="">Completed 2 weeks ago</small>
              <div class="progress mt-2" style="height: 5px;">
                <div class="progress-bar bg-success" style="width: 100%"></div>
              </div>
            </div>
            <div class="mb-3">
              <h6 class="mb-1">E-commerce App</h6>
              <small class="">In progress (75%)</small>
              <div class="progress mt-2" style="height: 5px;">
                <div class="progress-bar bg-warning" style="width: 75%"></div>
              </div>
            </div>
            <div>
              <h6 class="mb-1">Blog Platform</h6>
              <small class="">Planning phase</small>
              <div class="progress mt-2" style="height: 5px;">
                <div class="progress-bar bg-info" style="width: 20%"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="text-center mt-5">
      <a href="/" class="btn btn-outline-light px-4"><i class="fas fa-arrow-left me-2"></i> Back to Home</a>
    </div>
  </div>

  <%- include('./partials/footer') %>
  <%- include('./partials/script') %>
  
  <!-- Font Awesome for icons -->
  <script src="https://kit.fontawesome.com/your-code.js" crossorigin="anonymous"></script>
</body>
</html>